<!DOCTYPE html>
<html lang="ru">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è</title>
    <link href="{% static 'messenger/editprofile.css' %}" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è</h1>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group">
                <label for="username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
                <input type="text" id="username" name="username" required value="{{ user.username }}">
            </div>

            <div class="form-group">
                <label for="email">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞:</label>
                <input type="email" id="email" name="email" required value="{{ user.email }}">
            </div>

            <div class="form-group">
                <label for="firstname">–ò–º—è:</label>
                <input type="text" id="firstname" name="firstname" required value="{{ user.first_name }}">
            </div>

            <div class="form-group">
                <label for="lastname">–§–∞–º–∏–ª–∏—è:</label>
                <input type="text" id="lastname" name="lastname" required value="{{ user.last_name }}">
            </div>

            <div class="form-group">
                <label for="photo">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ø—Ä–æ—Ñ–∏–ª—è:</label>
                <div class="photo-upload-container" id="dropZone">
                    <div class="upload-icon">üìÅ</div>
                    <div class="upload-text">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–æ—Ç–æ —Å—é–¥–∞ –∏–ª–∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</div>
                    <input type="file" id="photo" name="photo" accept="image/*">
                    <div class="photo-requirements">
                        –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: JPG, PNG. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 5MB
                    </div>
                </div>
                <div class="photo-preview" id="photoPreview">
                    <img src="" alt="Preview">
                    <button type="button" class="remove-photo">√ó</button>
                </div>
            </div>

            <button type="submit" class="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </form>
    </div>
</body>
<script src="{% static 'js/dragandload.js' %}"></script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
    // –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∏–Ω–ø—É—Ç—ã –∏ email
    const inputs = document.querySelectorAll('input[type="text"], input[type="email"]');
    
    inputs.forEach(input => {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
        checkInputValue(input);
        
        // –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
        input.addEventListener('input', () => checkInputValue(input));
        
        // –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ñ–æ–∫—É—Å–∞
        input.addEventListener('focus', () => {
            input.classList.remove('input-filled');
            input.parentElement.classList.remove('has-value');
        });
        
        // –ü—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Ñ–æ–∫—É—Å–∞
        input.addEventListener('blur', () => checkInputValue(input));
    });
    
    function checkInputValue(input) {
        if (input.value.trim() !== '') {
            input.classList.add('input-filled');
            input.parentElement.classList.add('has-value');
        } else {
            input.classList.remove('input-filled');
            input.parentElement.classList.remove('has-value');
        }
    }
});
</script>
</html>